/* ═══════════════════════════════════════════════════════════════
   SUNFARM PLATFORM — GITHUB PAGES · PROFESSIONAL TOC
   Institutional-grade dark theme · Color-coded · Responsive
   ═══════════════════════════════════════════════════════════════ */

:root {
  --bg: #0d1117;
  --surface: #161b22;
  --surface-raised: #1c2333;
  --border: #30363d;
  --text: #e6edf3;
  --text-muted: #8b949e;
  --accent-blue: #58a6ff;
  --accent-green: #3fb950;
  --accent-yellow: #d29922;
  --accent-orange: #db6d28;
  --accent-red: #f85149;
  --accent-purple: #bc8cff;
  --accent-teal: #39d353;
  --accent-pink: #f778ba;

  /* Category Colors */
  --cat-executive: #58a6ff;
  --cat-financial: #3fb950;
  --cat-capital: #d29922;
  --cat-legal: #f85149;
  --cat-governance: #bc8cff;
  --cat-regulatory: #db6d28;
  --cat-technical: #39d353;
  --cat-acquisition: #f778ba;
  --cat-data: #79c0ff;
  --cat-spv: #56d364;
  --cat-dashboard: #e3b341;
  --cat-export: #a5d6ff;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
  background: var(--bg);
  color: var(--text);
  line-height: 1.6;
  min-height: 100vh;
}

code {
  font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
  background: rgba(110,118,129,0.2);
  padding: .15em .4em;
  border-radius: 4px;
  font-size: .85em;
}

/* ─── HERO ───────────────────────────────────────────── */
.hero {
  background: linear-gradient(135deg, #0d1117 0%, #161b22 40%, #1a1f2e 70%, #0d1117 100%);
  border-bottom: 1px solid var(--border);
  padding: 3rem 2rem 2.5rem;
  text-align: center;
  position: relative;
  overflow: hidden;
}
.hero::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  background: radial-gradient(ellipse at 50% 0%, rgba(88,166,255,0.08) 0%, transparent 60%);
  pointer-events: none;
}
.hero-badge {
  display: inline-flex; align-items: center; gap: .5rem;
  background: rgba(88,166,255,0.1); border: 1px solid rgba(88,166,255,0.2);
  border-radius: 20px; padding: .3rem 1rem; font-size: .75rem;
  color: var(--accent-blue); text-transform: uppercase; letter-spacing: .1em;
  margin-bottom: 1rem; position: relative;
}
.hero h1 {
  font-size: 2.4rem; font-weight: 700; margin-bottom: .5rem; position: relative;
}
.hero h1 span { color: var(--accent-blue); }
.hero .subtitle {
  color: var(--text-muted); font-size: 1.05rem;
  max-width: 700px; margin: 0 auto 1.5rem; position: relative;
}
.os-launch-btn {
  display: inline-block; position: relative; margin-bottom: 1.5rem;
  padding: .6rem 1.8rem; font-size: .88rem; font-weight: 600;
  color: #fff; background: linear-gradient(135deg, var(--accent-green), #238636);
  border: 1px solid rgba(63,185,80,0.4); border-radius: 8px;
  text-decoration: none; letter-spacing: .03em;
  transition: transform .2s, box-shadow .2s;
}
.os-launch-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 16px rgba(63,185,80,0.3);
}

/* KPI Strip */
.kpi-strip {
  display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: .75rem; max-width: 960px; margin: 0 auto; position: relative;
}
.kpi-card {
  background: var(--surface); border: 1px solid var(--border);
  border-radius: 8px; padding: .8rem .6rem; text-align: center;
  transition: transform .2s, border-color .2s;
}
.kpi-card:hover {
  transform: translateY(-2px);
  border-color: var(--accent-blue);
}
.kpi-card .value {
  font-size: 1.3rem; font-weight: 700; color: var(--accent-green);
}
.kpi-card .label {
  font-size: .65rem; color: var(--text-muted);
  text-transform: uppercase; letter-spacing: .05em; margin-top: .2rem;
}

/* ─── CONTAINER ────────────────────────────────────────── */
.container { max-width: 1200px; margin: 0 auto; padding: 2rem 1.5rem; }

/* ─── LEGEND ───────────────────────────────────────────── */
.legend {
  display: flex; flex-wrap: wrap; gap: .5rem; margin-bottom: 1.25rem;
  padding: 1rem; background: var(--surface); border: 1px solid var(--border);
  border-radius: 10px;
}
.legend-title {
  width: 100%; font-size: .7rem; text-transform: uppercase;
  letter-spacing: .1em; color: var(--text-muted); margin-bottom: .25rem;
}
.legend-item {
  display: flex; align-items: center; gap: .4rem;
  font-size: .75rem; color: var(--text-muted);
}
.legend-dot {
  width: 10px; height: 10px; border-radius: 50%; flex-shrink: 0;
}

/* ─── TOC NAVIGATION ──────────────────────────────────── */
.toc-nav {
  display: flex; flex-wrap: wrap; gap: .4rem; margin-bottom: 2rem;
  padding: .75rem; background: var(--surface); border: 1px solid var(--border);
  border-radius: 10px; position: sticky; top: 0; z-index: 100;
  backdrop-filter: blur(12px); background: rgba(22,27,34,0.92);
}
.toc-link {
  display: inline-block; padding: .3rem .7rem; border-radius: 6px;
  font-size: .72rem; font-weight: 600; text-decoration: none;
  color: var(--accent, var(--text-muted));
  border: 1px solid rgba(255,255,255,0.06);
  background: rgba(255,255,255,0.03);
  transition: all .2s;
}
.toc-link:hover {
  background: rgba(255,255,255,0.08);
  border-color: var(--accent, var(--border));
  transform: translateY(-1px);
}

/* ─── SECTION ──────────────────────────────────────────── */
.section { margin-bottom: 1.5rem; }

.section-header {
  display: flex; align-items: center; gap: .75rem;
  padding: .9rem 1.2rem; border-radius: 10px 10px 0 0;
  cursor: pointer; user-select: none; transition: filter .2s;
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(255,255,255,0.08);
  border-left: 4px solid var(--cat, var(--border));
}
.section-header:hover { filter: brightness(1.15); }
.section-header .icon { font-size: 1.2rem; }
.section-header h2 {
  font-size: 1rem; font-weight: 600; flex: 1;
  color: var(--cat, var(--text));
}
.section-header .count {
  font-size: .7rem; padding: .15rem .5rem; border-radius: 10px;
  background: rgba(255,255,255,0.1); color: rgba(255,255,255,0.8);
}
.section-header .chevron {
  font-size: .8rem; transition: transform .3s;
  color: var(--text-muted);
}
.section-header.collapsed .chevron { transform: rotate(-90deg); }

.section-body {
  background: var(--surface); border: 1px solid var(--border);
  border-top: none; border-radius: 0 0 10px 10px;
  overflow: hidden; transition: max-height .4s ease;
}

.section-desc {
  padding: 1rem 1.2rem .75rem;
  font-size: .8rem; color: var(--text-muted);
  border-bottom: 1px solid var(--border);
  line-height: 1.7;
}

/* ─── FILE TABLE ───────────────────────────────────────── */
.file-table { width: 100%; border-collapse: collapse; }
.file-table th {
  text-align: left; padding: .6rem 1.2rem;
  font-size: .65rem; text-transform: uppercase;
  letter-spacing: .08em; color: var(--text-muted);
  background: var(--surface-raised); border-bottom: 1px solid var(--border);
}
.file-table td {
  padding: .55rem 1.2rem; border-bottom: 1px solid rgba(48,54,61,0.5);
  font-size: .82rem; vertical-align: top;
}
.file-table tr:last-child td { border-bottom: none; }
.file-table tr:hover td { background: rgba(88,166,255,0.04); }

.file-name {
  font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
  font-size: .78rem;
}
.file-name a { color: var(--accent-blue); text-decoration: none; }
.file-name a:hover { text-decoration: underline; }
.file-desc { color: var(--text-muted); font-size: .78rem; }

.file-type {
  display: inline-block; padding: .1rem .4rem; border-radius: 4px;
  font-size: .6rem; font-weight: 600; text-transform: uppercase;
  letter-spacing: .04em; white-space: nowrap;
}
.type-js   { background: rgba(210,153,34,0.15); color: #e3b341; }
.type-md   { background: rgba(88,166,255,0.12); color: #79c0ff; }
.type-json { background: rgba(63,185,80,0.12); color: #56d364; }
.type-html { background: rgba(248,81,73,0.12); color: #ff7b72; }
.type-css  { background: rgba(188,140,255,0.12); color: #d2a8ff; }

.tag {
  display: inline-block; padding: .1rem .35rem; border-radius: 3px;
  font-size: .6rem; font-weight: 500; margin-left: .3rem;
}
.tag-model   { background: rgba(63,185,80,0.15); color: #56d364; }
.tag-config  { background: rgba(210,153,34,0.15); color: #e3b341; }
.tag-legal   { background: rgba(248,81,73,0.12); color: #ff7b72; }
.tag-new     { background: rgba(247,120,186,0.15); color: #f778ba; }

/* Subheading rows in tables */
.subheading td {
  padding: .5rem 1.2rem !important;
  background: var(--surface-raised) !important;
  font-size: .7rem !important;
  color: var(--cat-capital) !important;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: .08em;
  border-bottom: 1px solid var(--border) !important;
}

/* ─── METRICS GRID ─────────────────────────────────────── */
.metrics-grid {
  display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 1rem; padding: 1.2rem; border-bottom: 1px solid var(--border);
}
.metric-card {
  background: var(--surface-raised); border: 1px solid var(--border);
  border-radius: 8px; padding: 1rem;
  transition: border-color .2s;
}
.metric-card:hover { border-color: rgba(88,166,255,0.3); }
.metric-card h4 {
  font-size: .7rem; color: var(--text-muted); margin-bottom: .5rem;
  text-transform: uppercase; letter-spacing: .05em;
}
.metric-card .big { font-size: 1.5rem; font-weight: 700; }
.metric-card .sub { font-size: .7rem; color: var(--text-muted); margin-top: .25rem; }

/* ─── ARCHITECTURE DIAGRAM ─────────────────────────────── */
.arch-diagram {
  padding: 1.5rem; display: flex; flex-direction: column;
  align-items: center; gap: 1rem;
}
.arch-row { display: flex; gap: 1rem; flex-wrap: wrap; justify-content: center; }
.arch-box {
  background: var(--surface-raised); border: 2px solid;
  border-radius: 10px; padding: .8rem 1.2rem; text-align: center;
  min-width: 140px; transition: transform .2s;
}
.arch-box:hover { transform: translateY(-2px); }
.arch-box .name { font-weight: 600; font-size: .85rem; }
.arch-box .detail { font-size: .65rem; color: var(--text-muted); margin-top: .2rem; }
.arch-arrow { font-size: 1.5rem; color: var(--text-muted); }

/* ─── ACQUISITION TIMELINE ──────────────────────────────── */
.timeline { padding: 1.5rem 1.2rem; }
.timeline-title {
  color: var(--cat-acquisition); font-size: .8rem;
  text-transform: uppercase; letter-spacing: .08em; margin-bottom: .75rem;
}
.timeline-track {
  display: flex; align-items: flex-start; gap: 0;
  position: relative; margin: 1rem 0;
}
.timeline-line {
  position: absolute; top: 22px; left: 10%; right: 10%;
  height: 2px;
  background: linear-gradient(90deg, var(--cat-acquisition), var(--accent-purple), var(--accent-yellow), var(--accent-green));
  z-index: 0;
}
.timeline-node { flex: 1; text-align: center; position: relative; z-index: 1; }
.timeline-dot {
  width: 44px; height: 44px; border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  font-weight: 700; font-size: .75rem; margin: 0 auto .4rem;
  border: 3px solid var(--dot-color, var(--accent-blue));
  background: rgba(0,0,0,0.4);
  color: var(--dot-color, var(--accent-blue));
}
.timeline-label { font-size: .7rem; font-weight: 600; }
.timeline-amount { font-size: .85rem; font-weight: 700; margin-top: .15rem; }
.timeline-sub { font-size: .6rem; color: var(--text-muted); }
.timeline-footer { text-align: center; margin-top: .75rem; }
.timeline-badge {
  display: inline-block;
  background: rgba(88,166,255,0.1); border: 1px solid rgba(88,166,255,0.2);
  border-radius: 6px; padding: .3rem .8rem; font-size: .7rem; color: var(--accent-blue);
}

/* ─── COVENANT GRID ────────────────────────────────────── */
.covenant-grid {
  display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: .75rem; padding: 1.2rem;
}
.covenant-card {
  background: var(--surface-raised); border: 1px solid var(--border);
  border-radius: 8px; padding: .8rem; border-left: 3px solid;
  transition: border-color .2s;
}
.covenant-card:hover { border-color: rgba(255,255,255,0.15); }
.covenant-card h5 { font-size: .75rem; font-weight: 600; margin-bottom: .4rem; }
.covenant-card .thresholds { font-size: .65rem; color: var(--text-muted); }
.covenant-card .thresholds span { font-weight: 600; color: var(--text); }

/* ─── FOOTER ───────────────────────────────────────────── */
footer {
  border-top: 1px solid var(--border); padding: 2rem;
  text-align: center; color: var(--text-muted); font-size: .75rem;
}
.footer-brand { font-size: .85rem; margin-bottom: .5rem; }
footer a { color: var(--accent-blue); text-decoration: none; }
footer a:hover { text-decoration: underline; }
.footer-links { margin-top: .5rem; }
.footer-meta { margin-top: .5rem; font-size: .65rem; }

/* ─── RESPONSIVE ───────────────────────────────────────── */
@media (max-width: 768px) {
  .hero h1 { font-size: 1.6rem; }
  .kpi-strip { grid-template-columns: repeat(4, 1fr); }
  .container { padding: 1rem; }
  .file-table td:nth-child(3),
  .file-table th:nth-child(3) { display: none; }
  .toc-nav { position: static; }
  .covenant-grid { grid-template-columns: 1fr; }
  .arch-row { flex-direction: column; align-items: center; }
  .timeline-track { flex-direction: column; gap: 1rem; }
  .timeline-line { display: none; }
}

@media (max-width: 480px) {
  .kpi-strip { grid-template-columns: repeat(2, 1fr); }
  .hero { padding: 2rem 1rem 1.5rem; }
  .metrics-grid { grid-template-columns: 1fr; }
}

/* ─── ADDITIONAL CATEGORY COLORS ───────────────────────── */
:root {
  --cat-config: #e3b341;
  --cat-diagrams: #79c0ff;
  --cat-docs: #a5d6ff;
  --cat-source: #39d353;
  --cat-permits: #f85149;
  --cat-funding: #bc8cff;
  --cat-laws: #db6d28;
}

/* ─── ONE-PAGER ────────────────────────────────────────── */
.one-pager {
  background: linear-gradient(135deg, rgba(88,166,255,0.05) 0%, rgba(63,185,80,0.03) 100%);
  border: 2px solid var(--accent-blue);
  border-radius: 12px; margin-bottom: 2rem;
  page-break-inside: avoid;
}
.one-pager-header {
  background: rgba(88,166,255,0.06);
  border-bottom: 1px solid var(--border);
  padding: 1.5rem 1.5rem 1rem; text-align: center;
}
.one-pager-header h2 {
  font-size: 1.4rem; font-weight: 700; color: var(--accent-blue);
  margin-bottom: .3rem;
}
.one-pager-header .op-subtitle {
  font-size: .85rem; color: var(--text-muted);
}
.one-pager-header .op-badge {
  display: inline-block; margin-top: .6rem;
  background: rgba(63,185,80,0.15); border: 1px solid rgba(63,185,80,0.3);
  color: var(--accent-green); border-radius: 20px;
  padding: .25rem .8rem; font-size: .7rem; font-weight: 600;
  text-transform: uppercase; letter-spacing: .08em;
}
.op-grid {
  display: grid; grid-template-columns: repeat(4, 1fr);
  gap: 0; border-bottom: 1px solid var(--border);
}
.op-stat {
  text-align: center; padding: 1rem .5rem;
  border-right: 1px solid rgba(48,54,61,0.4);
}
.op-stat:last-child { border-right: none; }
.op-stat .val { font-size: 1.3rem; font-weight: 700; }
.op-stat .lbl {
  font-size: .6rem; color: var(--text-muted);
  text-transform: uppercase; letter-spacing: .06em; margin-top: .15rem;
}
.op-body { display: grid; grid-template-columns: 1fr 1fr; }
.op-col { padding: 1rem 1.2rem; }
.op-col:first-child { border-right: 1px solid rgba(48,54,61,0.4); }
.op-col h3 {
  font-size: .7rem; color: var(--accent-blue); text-transform: uppercase;
  letter-spacing: .08em; margin-bottom: .6rem;
}
.op-col ul {
  list-style: none; padding: 0; margin: 0;
}
.op-col li {
  font-size: .78rem; color: var(--text-muted); margin-bottom: .35rem;
  padding-left: .8rem; position: relative;
}
.op-col li::before {
  content: '▸'; position: absolute; left: 0;
  color: var(--accent-green); font-size: .65rem;
}
.op-footer {
  background: rgba(63,185,80,0.04);
  border-top: 1px solid var(--border);
  padding: .8rem 1.2rem; display: flex;
  justify-content: space-between; align-items: center;
  flex-wrap: wrap; gap: .5rem;
}
.op-footer-item {
  font-size: .72rem; font-weight: 600;
}
.op-footer-item .f-label {
  color: var(--text-muted); text-transform: uppercase;
  letter-spacing: .06em; font-size: .6rem;
}

/* ─── SHOVEL-READY BANNER ──────────────────────────────── */
.shovel-ready-banner {
  margin-bottom: 2rem; border: 2px solid var(--accent-green);
  border-radius: 12px; overflow: hidden;
  background: linear-gradient(135deg, rgba(63,185,80,0.04), rgba(63,185,80,0.01));
}
.sr-header {
  background: rgba(63,185,80,0.08);
  padding: 1rem 1.2rem; display: flex;
  align-items: center; gap: .75rem;
  border-bottom: 1px solid rgba(63,185,80,0.2);
}
.sr-header h2 {
  font-size: 1rem; color: var(--accent-green); margin: 0;
}
.sr-icon { font-size: 1.5rem; }
.sr-grid {
  display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: .75rem; padding: 1rem;
}
.sr-card {
  background: var(--surface-raised); border: 1px solid var(--border);
  border-radius: 8px; padding: .8rem;
  transition: border-color .2s;
}
.sr-card.obtained { border-left: 3px solid var(--accent-green); }
.sr-card:hover { border-color: rgba(63,185,80,0.3); }
.sr-status {
  font-size: .6rem; font-weight: 700; color: var(--accent-green);
  text-transform: uppercase; letter-spacing: .08em; margin-bottom: .3rem;
}
.sr-card h4 { font-size: .8rem; font-weight: 600; margin-bottom: .2rem; }
.sr-detail { font-size: .68rem; color: var(--text-muted); }

/* ─── CHARTS (CSS-ONLY) ───────────────────────────────── */
.chart-area {
  padding: 1.2rem; border-bottom: 1px solid var(--border);
}
.chart-title {
  font-size: .75rem; font-weight: 600; color: var(--text-muted);
  text-transform: uppercase; letter-spacing: .08em;
  margin-bottom: .75rem;
}
.bar-chart {
  display: flex; flex-direction: column; gap: .45rem;
}
.bar-row {
  display: flex; align-items: center; gap: .6rem;
}
.bar-label {
  min-width: 100px; font-size: .7rem; color: var(--text-muted);
  text-align: right;
}
.bar-track {
  flex: 1; background: rgba(255,255,255,0.04);
  border-radius: 4px; height: 22px; position: relative;
  overflow: hidden;
}
.bar-fill {
  height: 100%; border-radius: 4px;
  display: flex; align-items: center; padding-left: .5rem;
  font-size: .65rem; font-weight: 600; white-space: nowrap;
  transition: width .6s ease;
}
.bar-val {
  font-size: .7rem; font-weight: 600; min-width: 55px;
  text-align: right;
}
.donut-container {
  display: flex; flex-wrap: wrap; justify-content: center;
  gap: 2rem; padding: 1rem;
}
.donut-chart {
  position: relative; width: 160px; height: 160px;
}
.donut-chart svg { width: 100%; height: 100%; transform: rotate(-90deg); }
.donut-chart circle {
  fill: none; stroke-width: 20;
  cx: 80; cy: 80; r: 60;
}
.donut-center {
  position: absolute; top: 50%; left: 50%;
  transform: translate(-50%, -50%); text-align: center;
}
.donut-center .dc-val { font-size: 1.2rem; font-weight: 700; }
.donut-center .dc-lbl {
  font-size: .6rem; color: var(--text-muted);
  text-transform: uppercase;
}
.donut-legend {
  display: flex; flex-direction: column; gap: .5rem;
  justify-content: center;
}
.donut-legend-item {
  display: flex; align-items: center; gap: .4rem;
  font-size: .72rem;
}
.donut-legend-dot {
  width: 10px; height: 10px; border-radius: 3px; flex-shrink: 0;
}

/* ─── SCENARIO TABLE ───────────────────────────────────── */
.scenario-table { width: 100%; border-collapse: collapse; }
.scenario-table th {
  text-align: center; padding: .5rem .6rem;
  font-size: .65rem; text-transform: uppercase;
  letter-spacing: .06em; color: var(--text-muted);
  background: var(--surface-raised);
  border-bottom: 2px solid var(--border);
}
.scenario-table td {
  text-align: center; padding: .5rem .6rem;
  font-size: .82rem; border-bottom: 1px solid rgba(48,54,61,0.5);
}
.scenario-table td:first-child { text-align: left; font-weight: 600; }
.scenario-table tr:hover td { background: rgba(88,166,255,0.04); }
.scenario-table .highlight {
  background: rgba(63,185,80,0.06);
}
.scenario-table .val-green { color: var(--accent-green); font-weight: 700; }
.scenario-table .val-blue { color: var(--accent-blue); font-weight: 700; }
.scenario-table .val-yellow { color: var(--accent-yellow); font-weight: 700; }

/* ─── FUNDING PATHWAY CARDS ────────────────────────────── */
.funding-grid {
  display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 1rem; padding: 1.2rem;
}
.funding-card {
  background: var(--surface-raised); border: 1px solid var(--border);
  border-radius: 10px; overflow: hidden;
  transition: transform .2s, border-color .2s;
}
.funding-card:hover {
  transform: translateY(-2px);
  border-color: rgba(188,140,255,0.3);
}
.fc-header {
  background: rgba(255,255,255,0.03);
  padding: .7rem .9rem; display: flex;
  align-items: center; gap: .5rem;
  border-bottom: 1px solid rgba(48,54,61,0.5);
}
.fc-icon { font-size: 1.1rem; }
.fc-header h4 { font-size: .8rem; font-weight: 600; flex: 1; }
.fc-amount {
  font-size: .72rem; font-weight: 700; color: var(--accent-green);
  background: rgba(63,185,80,0.1); padding: .15rem .5rem;
  border-radius: 10px;
}
.fc-body { padding: .7rem .9rem; }
.fc-body p { font-size: .72rem; color: var(--text-muted); margin-bottom: .5rem; }
.fc-detail {
  display: grid; grid-template-columns: 1fr 1fr;
  gap: .3rem .5rem; font-size: .65rem;
}
.fc-detail dt { color: var(--text-muted); }
.fc-detail dd { color: var(--text); font-weight: 600; margin: 0; }

/* ─── LAWS TABLE ───────────────────────────────────────── */
.law-table { width: 100%; border-collapse: collapse; }
.law-table th {
  text-align: left; padding: .5rem 1rem;
  font-size: .65rem; text-transform: uppercase;
  letter-spacing: .06em; color: var(--text-muted);
  background: var(--surface-raised);
  border-bottom: 2px solid var(--border);
}
.law-table td {
  padding: .55rem 1rem;
  font-size: .78rem; border-bottom: 1px solid rgba(48,54,61,0.5);
  vertical-align: top;
}
.law-table tr:hover td { background: rgba(219,109,40,0.04); }
.law-name { font-weight: 600; color: var(--accent-orange); }
.law-impact { font-size: .72rem; color: var(--text-muted); }

/* ─── ARCHITECTURE DIAGRAM (SPV) ──────────────────────── */
.architecture-diagram {
  padding: 1.5rem; display: flex; flex-direction: column;
  align-items: center; gap: .75rem;
  border-bottom: 1px solid var(--border);
}
.holdco { border-color: var(--accent-blue); }
.landco { border-color: var(--accent-green); }
.energyspv { border-color: var(--accent-yellow); }
.tokenspv { border-color: var(--accent-purple); }
.arch-sub { font-size: .65rem; color: var(--text-muted); margin-top: .25rem; max-width: 200px; }
.arch-arrow {
  font-size: 1rem; color: var(--text-muted); font-weight: 600;
}

/* ─── SOURCE DOC CATEGORY HEADERS ──────────────────────── */
.source-category {
  font-size: .85rem; font-weight: 700;
  padding: .75rem 1.2rem .3rem; margin: 0;
}
.source-desc {
  padding: .2rem 1.2rem .6rem;
  font-size: .75rem; color: var(--text-muted);
  line-height: 1.6;
}
.type-pdf { background: rgba(248,81,73,0.12); color: #ff7b72; }
.type-img { background: rgba(188,140,255,0.12); color: #d2a8ff; }

/* ─── PRINT STYLES ─────────────────────────────────────── */
@media print {
  body { background: #fff; color: #111; }
  .toc-nav, .legend, footer { display: none; }
  .one-pager { border-color: #333; page-break-after: always; }
  .hero { background: #f5f5f5; }
  .section-body { border-color: #ccc; }
  .metric-card, .sr-card, .funding-card { border-color: #ddd; }
  .kpi-card .value { color: #111; }
}

/* ─── SCROLLBAR ────────────────────────────────────────── */
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: var(--bg); }
::-webkit-scrollbar-thumb { background: var(--border); border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: var(--text-muted); }

/* ─── ANIMATIONS ───────────────────────────────────────── */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}
.section { animation: fadeIn .4s ease both; }
.section:nth-child(2)  { animation-delay: .05s; }
.section:nth-child(3)  { animation-delay: .1s; }
.section:nth-child(4)  { animation-delay: .15s; }
.section:nth-child(5)  { animation-delay: .2s; }
.section:nth-child(6)  { animation-delay: .25s; }
.section:nth-child(7)  { animation-delay: .3s; }
.section:nth-child(8)  { animation-delay: .35s; }
.section:nth-child(9)  { animation-delay: .4s; }
.section:nth-child(10) { animation-delay: .45s; }
.section:nth-child(11) { animation-delay: .5s; }
.section:nth-child(12) { animation-delay: .55s; }
.section:nth-child(13) { animation-delay: .6s; }
